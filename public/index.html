<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Services</title>
</head>
<body>
  <h2>Services</h2>
  <ul id="messages"></ul>
  
</body>
<script type="module">
  import { io } from "https://cdn.socket.io/4.4.0/socket.io.esm.min.js";

  const socket = io('http://localhost:8181');
  const messages = document.getElementById('messages');

  console.log('oi');

  socket.emit('sendMessage', {
    text: 'working'
  });

  socket.on('receivedMessage', (msg) => {
    console.log(`message received `, msg);
    const item = document.createElement('li');
   item.textContent = msg.record.name;
   messages.appendChild(item);
   window.scrollTo(0, document.body.scrollHeight);
  });
  console.log('test')
</script>
</html>